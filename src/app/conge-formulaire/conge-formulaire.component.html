<form (ngSubmit)="submitConge()">
  <fieldset>
    <legend>Informations personnelles</legend>
    <div class="form-group row" [class.has-success]="checkText(user.username)">
      <label for="firstname" class="col-xs-12 col-sm-2 col-form-label">Prenom</label>

      <div class="col-xs-12 col-sm-10">
        <input class="form-control"
               [class.form-control-success]="checkText(user.username)" type="text"
               placeholder="John" id="firstname" name="firstname" [(ngModel)]="user.username" required>
      </div>
    </div>
    <div class="form-group row" [class.has-success]="checkText(user.lastname)">
      <label for="lastname" class="col-xs-12 col-sm-2 col-form-label">Nom</label>
      <div class="col-xs-12 col-sm-10">
        <input class="form-control" [class.form-control-success]="checkText(user.lastname)" type="text" placeholder="Doe" id="lastname" name="lastname"
               [(ngModel)]="user.lastname" required>
      </div>
    </div>
    <div class="form-group row" [class.has-success]="checkMatricule()" [class.has-danger]="!checkMatricule()">
      <label for="matricule" class="col-xs-12 col-sm-2 col-form-label">Matricule</label>

      <div class="col-xs-12 col-sm-10">
        <input class="form-control" [class.form-control-success]="checkMatricule()" type="text" placeholder="xxxx"
               id="matricule" name="matricule"
               [(ngModel)]="user.matricule" required>
        <small id="passwordHelpInline" class="text-muted">
          0000 pour un nouvel arrivant.
        </small>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-12">
        <div class="form-check">
          <label class="form-check-label">
            <input class="form-check-input" type="checkbox" name="isPartielTime" [(ngModel)]="user.isPartialTime"> Temps
            partiel
          </label>
        </div>
      </div>
    </div>
    {{user | json}}
  </fieldset>
  <fieldset>
    <legend>Demande de congès</legend>
    <div class="form-group">
      <div class="row">
        <label for="begin-date" class="col-sm-2 col-form-label">Date de debut</label>
        <div class="col-sm-4 mb-3">
          <input class="form-control" type="date" id="begin-date" name="beginDate" [(ngModel)]="conge.beginDate" required>
        </div>

        <div class="col-sm-3">
          <div class="form-check">
            <label class="form-check-label">
              <input class="form-check-input" type="checkbox" name="isBeginDateMorning"
                     [(ngModel)]="conge.isBeginDateMorning"> Matin
            </label>
          </div>
        </div>
        <div class="col-sm-3">
          <div class="form-check">
            <label class="form-check-label">
              <input class="form-check-input" type="checkbox" name="isBeginDateAfternoon"
                     [(ngModel)]="conge.isBeginDateAfternoon"> Aprem
            </label>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label for="end-date" class="col-sm-2 col-form-label">Date de fin</label>
      <div class="col-sm-4 mb-3">
        <input class="form-control" type="date" id="end-date" name="endDate" [(ngModel)]="conge.endDate">
      </div>
      <div class="col-sm-3">
        <div class="form-check">
          <label class="form-check-label">
            <input class="form-check-input" type="checkbox" name="isEndDateMorning"
                   [(ngModel)]="conge.isEndDateMorning"> Matin
          </label>
        </div>
      </div>
      <div class="col-sm-3">
        <div class="form-check">
          <label class="form-check-label">
            <input class="form-check-input" type="checkbox" name="isEndDateBegin" [(ngModel)]="conge.isEndDateBegin">
            Aprem
          </label>
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label for="example-date-input" class="col-sm-2 col-form-label">Nombre de jour</label>
      <div class="col-sm-10">
        <input class="form-control" type="number" id="example-date-input" name="offDayNumber"
               [(ngModel)]="conge.offDayNumber">
      </div>
    </div>
    <div class="form-group row">
      <label for="example-date-input" class="col-sm-2 col-form-label">Motif</label>
      <div class="col-sm-10">
        <select class="form-control" name="reason" [(ngModel)]="conge.reason" required>
          <option value="CP">Congès payés</option>
          <option value="SS">Congès sans solde</option>
          <option value="PC">Pont client</option>
          <option value="CE">Congés exceptionnels</option>
          <option value="RC">Récupération pour astreinte ou jours fériés</option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <label for="other-precision" class="col-sm-2 col-form-label">Autres précisions</label>
      <div class="col-sm-10">
        <textarea class="form-control" type="number" id="other-precision"
                  placeholder="Précisions supplémentaires" name="otherDetails"
                  [(ngModel)]="conge.otherDetails"></textarea>
      </div>
    </div>
    {{conge | json}}
  </fieldset>
  <div class="form-group col-xs-12">
    <div class="mx-auto" style="width: 200px;">
      <button type="submit" class="btn btn-primary">Soumettre ma demande</button>
    </div>
  </div>
</form>
